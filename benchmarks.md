# Non-Scientific Benchmark

## How Was Benchmark Done?
1. Use data set from https://huggingface.co/datasets/hangxie/parquet-tools/tree/main
   * All parquet files have the same schema with testdata/all-types.parquet but with more rows.
   * 10K rows data set was used for all versions.
2. Run on an Ubuntu 24.04 LTS with Intel i7-8700B CPU (6c/12T) and 32GB memory
3. Run `make benchmark` 3 times, then pick the median number and post here after convert ns/op to ms/op.
4. Benchmark was added in v1.30.0, old versions need to tweak go benchmarking code to make things work.

## Benchmark Comparisons Between Versions

|          |                                                                        cat |                                                                      merge |     meta |     row-count |     schema |     size |     version |
| -------: | -------------------------------------------------------------------------: | -------------------------------------------------------------------------: | -------: | ------------: | ---------: | -------: | ----------: |
|     HEAD |                                                                        634 |                                                                       1537 |    1.343 |         1.120 |      1.371 |    1.083 |       0.005 |
|  v1.37.1 |                                                                        632 |                                                                       1485 |    1.393 |         1.143 |      1.244 |    1.073 |       0.004 |
|  v1.37.0 |                                                                        616 |                                                                       1457 |    1.359 |         1.099 |      1.331 |    1.124 |       0.004 |
|  v1.36.3 |        624<sup>[note](https://github.com/hangxie/parquet-tools/issues/758) |       1444<sup>[note](https://github.com/hangxie/parquet-tools/issues/758) |    1.348 |         1.310 |      1.253 |    1.051 |       0.005 |
|  v1.36.2 |                                                                        746 |                                                                       1746 |    1.340 |         1.070 |      1.164 |    1.031 |       0.005 |
|  v1.36.1 |                                                                        783 |                                                                       1850 |    1.368 |         1.077 |      1.163 |    1.053 |       0.003 |
|  v1.36.0 |                                                                        836 |                                                                       1925 |    1.392 |         1.065 |      1.307 |    1.107 |       0.003 |
|  v1.35.2 |                                                                        788 |                                                                       1930 |    1.306 |         1.148 |      1.221 |    1.088 |       0.004 |
|  v1.35.1 |                                                                        750 |                                                                       1800 |    1.364 |         1.034 |      1.241 |    1.119 |       0.003 |
|  v1.35.0 |        788<sup>[note](https://github.com/hangxie/parquet-tools/issues/738) |                                                                       1805 |    1.348 |         1.073 |      1.220 |    1.069 |       0.003 |
|  v1.34.2 |                                                                        994 |                                                                       1776 |    1.356 |         1.114 |      1.184 |    1.067 |       0.003 |
|  v1.34.1 |                                                                        976 |                                                                       1716 |    1.290 |         1.021 |      1.220 |    1.077 |       0.004 |
|  v1.34.0 |                                                                        960 |                                                                       1714 |    1.367 |         1.116 |      1.193 |    1.028 |       0.003 |
|          |                                                                    **cat** |                                                                  **merge** | **meta** | **row-count** | **schema** | **size** | **version** |
|  v1.33.1 |                                                                        980 |                                                                       1585 |    1.250 |         1.079 |      1.167 |    1.057 |       0.003 |
|  v1.33.0 |                                                                        970 |                                                                       1624 |    1.255 |         1.105 |      1.184 |    1.038 |       0.003 |
|  v1.32.7 |                                                                        923 |                                                                       1682 |    1.202 |         1.065 |      1.195 |    1.056 |       0.003 |
|  v1.32.6 |                                                                        931 |                                                                       1652 |    1.273 |         1.071 |      1.180 |    1.016 |       0.003 |
|  v1.32.5 |                                                                        921 |                                                                       1705 |    1.211 |         1.026 |      1.159 |    1.006 |       0.003 |
|  v1.32.4 |                                                                        935 |                                                                       1665 |    1.188 |         1.041 |      1.279 |    1.125 |       0.003 |
|  v1.32.3 |                                                                        927 |                                                                       1688 |    1.206 |         1.041 |      1.146 |    1.004 |       0.004 |
|  v1.32.2 |                                                                        952 |                                                                       1689 |    1.266 |         1.085 |      1.135 |    1.073 |       0.003 |
|  v1.32.1 |                                                                        931 | 1647<sup>[note](https://github.com/hangxie/parquet-tools/issues/630)</sup> |    1.162 |         1.204 |      1.295 |    1.047 |       0.003 |
|  v1.32.0 |                                                                        944 |                                                                       1498 |    1.228 |         0.997 |      1.186 |    1.030 |       0.003 |
|          |                                                                    **cat** |                                                                  **merge** | **meta** | **row-count** | **schema** | **size** | **version** |
|  v1.31.0 |                                                                        965 |                                                                       1525 |    1.227 |         0.980 |      1.163 |    1.003 |       0.003 |
|  v1.30.0 |  942<sup>[note](https://github.com/hangxie/parquet-tools/issues/612)</sup> |                                                                       1805 |    1.213 |         1.038 |      1.191 |    1.034 |       0.003 |
|  v1.29.4 |                                                                       1298 |                                                                       1524 |    1.287 |         1.145 |      1.147 |    1.023 |       0.003 |
|  v1.29.3 |                                                                       1292 |                                                                       1533 |    1.287 |         1.026 |      1.228 |    1.046 |       0.003 |
|  v1.29.2 |                                                                       1304 |                                                                       1504 |    1.279 |         1.015 |      1.230 |    1.007 |       0.003 |
|  v1.29.1 |                                                                       1299 |                                                                       1865 |    1.244 |         1.032 |      1.171 |    0.995 |       0.003 |
|  v1.29.0 |                                                                       1297 |                                                                       1859 |    1.308 |         1.040 |      1.198 |    1.039 |       0.003 |
|  v1.28.3 |                                                                       1435 |                                                                       1652 |    1.163 |         1.001 |      1.261 |    1.135 |       0.003 |
|  v1.28.2 |                                                                       1444 |                                                                       1780 |    1.230 |         1.105 |      1.136 |    1.015 |       0.003 |
|  v1.28.1 |                                                                       1442 |                                                                        N/A |    2.446 |         1.684 |      1.839 |    1.471 |       0.006 |
|          |                                                                    **cat** |                                                                  **merge** | **meta** | **row-count** | **schema** | **size** | **version** |
|  v1.28.0 |                                                                       1460 |                                                                        N/A |    2.118 |         1.430 |      1.539 |    1.326 |       0.005 |
|  v1.27.1 |                                                                       1471 |                                                                        N/A |    1.915 |         1.300 |      1.406 |    1.234 |       0.004 |
|  v1.27.0 |                                                                       1474 |                                                                        N/A |    2.319 |         1.496 |      1.704 |    1.575 |       0.005 |
|  v1.26.1 |                                                                       1454 |                                                                        N/A |    2.416 |         1.462 |      1.544 |    1.429 |       0.005 |
|  v1.26.0 |                                                                       1435 |  N/A<sup>[note](https://github.com/hangxie/parquet-tools/issues/579)</sup> |    2.642 |         1.756 |      1.924 |    1.767 |       0.005 |
| v1.25.14 |                                                                       1394 |                                                                       1345 |    1.423 |         1.277 |      1.369 |    1.277 |       0.005 |
| v1.25.13 |                                                                       1409 |                                                                       1350 |    1.154 |         1.014 |      1.120 |    1.044 |       0.003 |
| v1.25.12 |                                                                       1403 |                                                                       1376 |    1.100 |         1.044 |      1.115 |    1.015 |       0.004 |
| v1.25.11 |                                                                       1404 |                                                                       1571 |    1.126 |         1.025 |      1.074 |    1.065 |       0.003 |
| v1.25.10 |                                                                       1409 |                                                                       1382 |    1.484 |         1.537 |      1.381 |    1.406 |       0.007 |
|          |                                                                    **cat** |                                                                  **merge** | **meta** | **row-count** | **schema** | **size** | **version** |
|  v1.25.9 |                                                                       1422 |                                                                       1369 |    1.237 |         1.064 |      1.108 |    1.011 |       0.004 |
|  v1.25.8 |                                                                       1371 |                                                                       1360 |    1.065 |         0.968 |      1.121 |    0.960 |       0.004 |
|  v1.25.7 | 9699<sup>[note](https://github.com/hangxie/parquet-tools/issues/474)</sup> |                                                                       1361 |    1.125 |         1.079 |      1.107 |    1.020 |       0.006 |
|  v1.25.6 |                                                                       1291 |                                                                       1361 |    1.407 |         1.392 |      1.539 |    1.283 |       0.005 |
|  v1.25.5 |                                                                       1302 |                                                                       1358 |    1.206 |         1.114 |      1.373 |    1.168 |       0.005 |
|  v1.25.4 |                                                                       1299 |                                                                       1664 |    1.090 |         1.014 |      1.103 |    0.989 |       0.004 |
|  v1.25.3 |                                                                       1349 |                                                                       1693 |    1.103 |         0.989 |      1.094 |    0.967 |       0.004 |
|  v1.25.2 |                                                                       1347 |                                                                       1729 |    1.077 |         1.153 |      1.069 |    1.012 |       0.005 |
|  v1.25.1 |                                                                       1290 |                                                                       1761 |    1.181 |         1.038 |      1.126 |    0.993 |       0.007 |
|  v1.25.0 |                                                                       1298 |                                                                       1732 |    1.178 |         0.969 |      1.191 |    0.952 |       0.004 |
|          |                                                                    **cat** |                                                                  **merge** | **meta** | **row-count** | **schema** | **size** | **version** |
|  v1.24.1 |                                                                       1295 |                                                                       1691 |    5.538 |         2.023 |      5.506 |    4.412 |       0.008 |
|  v1.24.0 |                                                                       1292 |                                                                       1692 |    1.118 |         0.988 |      1.053 |    0.960 |       0.004 |
|  v1.23.2 |                                                                       1299 |                                                                       1722 |    1.051 |         0.945 |      1.037 |    1.001 |       0.004 |
|  v1.23.1 |                                                                       1298 |                                                                       1695 |    1.091 |         0.979 |      1.125 |    0.982 |       0.005 |
|  v1.23.0 |                                                                       1289 | 1650<sup>[note](https://github.com/hangxie/parquet-tools/issues/404)</sup> |    1.096 |         1.009 |      1.103 |    1.026 |       0.004 |
|  v1.22.4 |                                                                       1284 |                                                                        N/A |    2.349 |         2.458 |      1.378 |    2.800 |       0.009 |
|  v1.22.3 |                                                                       1298 |                                                                        N/A |    2.079 |         1.278 |      1.676 |    1.851 |       0.005 |
|  v1.22.2 |                                                                       1290 |                                                                        N/A |    2.650 |         1.459 |      1.731 |    1.406 |       0.005 |
|  v1.22.1 |                                                                       1295 |                                                                        N/A |    2.514 |         1.734 |      2.543 |    1.924 |       0.005 |
|  v1.22.0 |                                                                       1296 |                                                                        N/A |    2.552 |         1.804 |      1.847 |    1.543 |       0.005 |
|          |                                                                    **cat** |                                                                  **merge** | **meta** | **row-count** | **schema** | **size** | **version** |
|  v1.21.1 |                                                                       1299 |                                                                        N/A |    2.459 |         1.737 |      1.676 |    1.469 |       0.005 |
|  v1.21.0 |                                                                       1298 |                                                                        N/A |    2.092 |         1.670 |      2.296 |    1.681 |       0.005 |
|  v1.20.7 |                                                                       1290 |                                                                        N/A |    3.569 |         1.919 |      2.316 |    1.933 |       0.006 |
|  v1.20.6 |                                                                       1292 |                                                                        N/A |    1.760 |         1.462 |      1.888 |    1.249 |       0.004 |
|  v1.20.5 |                                                                       1295 |                                                                        N/A |    1.965 |         1.446 |      2.112 |    1.729 |       0.005 |
|  v1.20.4 |                                                                       1292 |                                                                        N/A |    2.843 |         1.295 |      1.601 |    1.265 |       0.004 |
|  v1.20.3 |                                                                       1284 |                                                                        N/A |    2.894 |         1.769 |      2.063 |    1.801 |       0.006 |
|  v1.20.2 |                                                                       1282 |                                                                        N/A |    3.077 |         1.956 |      2.287 |    1.654 |       0.006 |
|  v1.20.1 |                                                                       1286 |                                                                        N/A |    2.594 |         1.429 |      1.537 |    1.504 |       0.004 |
|  v1.20.0 |                                                                       1290 |                                                                        N/A |    2.172 |         1.476 |      1.469 |    1.409 |       0.007 |
|          |                                                                    **cat** |                                                                  **merge** | **meta** | **row-count** | **schema** | **size** | **version** |
|  v1.19.5 |                                                                       1292 |                                                                        N/A |    1.976 |         1.531 |      1.611 |    1.547 |       0.007 |
|  v1.19.4 |                                                                       1300 |                                                                        N/A |    2.182 |         1.708 |      1.797 |    1.604 |       0.006 |
|  v1.19.3 |                                                                       1290 |                                                                        N/A |    1.923 |         1.597 |      1.741 |    1.612 |       0.007 |
|  v1.19.2 |                                                                       1290 |                                                                        N/A |    2.256 |         1.605 |      1.804 |    1.549 |       0.007 |
|  v1.19.1 |                                                                       1293 |                                                                        N/A |    2.115 |         1.683 |      1.595 |    1.505 |       0.007 |
|  v1.19.0 |                                                                       1287 |                                                                        N/A |    1.382 |         1.224 |      1.844 |    1.253 |       0.006 |
|  v1.18.1 |                                                                       1289 |                                                                        N/A |    2.215 |         1.612 |      1.728 |    1.523 |       0.007 |
|  v1.18.0 |                                                                       1289 |                                                                        N/A |    1.860 |         1.335 |      1.588 |    1.383 |       0.006 |
|  v1.17.1 |                                                                       1297 |                                                                        N/A |    2.359 |         1.699 |      1.896 |    1.787 |       0.005 |
|  v1.17.0 |                                                                       1301 |                                                                        N/A |    2.270 |         1.639 |      1.904 |    1.603 |       0.006 |
|          |                                                                    **cat** |                                                                  **merge** | **meta** | **row-count** | **schema** | **size** | **version** |
|  v1.16.0 |                                                                       1309 |                                                                        N/A |    2.470 |         1.487 |      1.621 |    1.552 |       0.006 |
|  v1.15.3 |                                                                       1308 |                                                                        N/A |    1.795 |         1.118 |      1.210 |    1.046 |       0.003 |
|  v1.15.2 |                                                                       1303 |                                                                        N/A |    1.765 |         1.095 |      1.224 |    1.115 |       0.004 |
|  v1.15.1 |                                                                       1302 |                                                                        N/A |    1.832 |         1.208 |      1.260 |    1.202 |       0.004 |
|  v1.15.0 |                                                                       1307 |                                                                        N/A |    2.151 |         1.639 |      1.816 |    1.423 |       0.005 |
|  v1.14.2 |                                                                       1308 |                                                                        N/A |    1.686 |         1.186 |      1.259 |    1.183 |       0.004 |
|  v1.14.1 |                                                                       1309 |                                                                        N/A |    1.729 |         1.056 |      1.238 |    1.062 |       0.003 |
|  v1.14.0 |                                                                       1310 |                                                                        N/A |    1.745 |         1.073 |      1.267 |    1.131 |       0.004 |
|  v1.13.9 |                                                                       1325 |                                                                        N/A |    1.779 |         1.212 |      1.248 |    1.251 |       0.004 |
|  v1.13.8 |                                                                       1338 |                                                                        N/A |    1.869 |         1.265 |      1.420 |    1.224 |       0.004 |
|          |                                                                    **cat** |                                                                  **merge** | **meta** | **row-count** | **schema** | **size** | **version** |
|  v1.13.7 |                                                                       1324 |                                                                        N/A |    1.907 |         1.237 |      1.175 |    1.121 |       0.004 |
|  v1.13.6 |                                                                       1318 |                                                                        N/A |    1.285 |         1.098 |      1.810 |    1.202 |       0.004 |
|  v1.13.5 |                                                                       1330 |                                                                        N/A |    1.817 |         1.287 |      1.182 |    1.154 |       0.003 |
|  v1.13.4 |                                                                       1321 |                                                                        N/A |    1.783 |         1.112 |      1.172 |    1.086 |       0.002 |
|  v1.13.3 |                                                                       1290 |                                                                        N/A |    1.978 |         1.886 |      2.004 |    1.902 |       0.004 |
|  v1.13.2 |                                                                       1289 |                                                                        N/A |    1.972 |         1.840 |      2.033 |    1.878 |       0.004 |
|  v1.13.1 |                                                                       1285 |                                                                        N/A |    1.782 |         1.789 |      1.810 |    1.992 |       0.004 |
|  v1.13.0 |                                                                       1261 |                                                                        N/A |    1.808 |         2.031 |      1.972 |    1.931 |       0.003 |
|  v1.12.2 |                                                                       1270 |                                                                        N/A |    2.004 |         1.904 |      2.030 |    2.079 |       0.004 |
|  v1.12.1 |                                                                       1268 |                                                                        N/A |    2.010 |         1.823 |      2.066 |    1.958 |       0.004 |
|          |                                                                    **cat** |                                                                  **merge** | **meta** | **row-count** | **schema** | **size** | **version** |
|  v1.12.0 |                                                                       1264 |                                                                        N/A |    3.046 |         1.985 |      2.200 |    2.383 |       0.004 |
|  v1.11.7 |                                                                       1267 |                                                                        N/A |    1.931 |         1.860 |      2.432 |    1.950 |       0.005 |
|  v1.11.6 |                                                                       1261 |                                                                        N/A |    1.807 |         2.002 |      2.630 |    2.000 |       0.004 |
|  v1.11.5 |                                                                        770 |                                                                        N/A |    1.812 |         1.967 |      2.020 |    1.772 |       0.004 |
|  v1.11.4 |                                                                        773 |                                                                        N/A |    1.906 |         2.127 |      2.060 |    1.992 |       0.005 |
|  v1.11.3 |                                                                        770 |                                                                        N/A |    1.799 |         1.885 |      2.392 |    1.925 |       0.003 |
|  v1.11.2 |                                                                        742 |                                                                        N/A |    1.855 |         1.876 |      2.495 |    1.891 |       0.004 |
|  v1.11.1 |                                                                        727 |                                                                        N/A |    1.911 |         1.834 |      1.765 |    1.878 |       0.004 |
|  v1.11.0 |                                                                        823 |                                                                        N/A |    1.846 |         2.506 |      2.042 |    2.404 |       0.005 |
|  v1.10.5 |                                                                        794 |                                                                        N/A |    1.774 |         2.306 |      1.906 |    1.913 |       0.004 |
|          |                                                                    **cat** |                                                                  **merge** | **meta** | **row-count** | **schema** | **size** | **version** |
|  v1.10.4 |  N/A<sup>[note](https://github.com/hangxie/parquet-tools/issues/108)</sup> |                                                                        N/A |    4.318 |         2.540 |      2.932 |    2.658 |       0.005 |
|  v1.10.3 |                                                                        499 |                                                                        N/A |    2.183 |         2.500 |      2.174 |    2.118 |       0.004 |
|  v1.10.2 |                                                                        504 |                                                                        N/A |    2.228 |         2.220 |      2.870 |    2.218 |       0.005 |
|  v1.10.1 |                                                                        513 |                                                                        N/A |    2.410 |         2.388 |      2.602 |    2.393 |       0.005 |
|  v1.10.0 |                                                                        509 |                                                                        N/A |    2.089 |         2.175 |      2.148 |    2.146 |       0.005 |
|   v1.9.0 |                                                                        509 |                                                                        N/A |    2.234 |         2.062 |      2.368 |    2.161 |       0.005 |
|   v1.8.4 |                                                                        505 |                                                                        N/A |    2.041 |         2.420 |      2.700 |    1.958 |       0.003 |
|   v1.8.3 |                                                                        500 |                                                                        N/A |    2.090 |         2.353 |      2.542 |    2.207 |       0.004 |
|   v1.8.2 |                                                                        504 |                                                                        N/A |    2.243 |         2.181 |      2.132 |    2.849 |       0.003 |
|   v1.8.1 |                                                                        503 |                                                                        N/A |    2.108 |         2.413 |      2.267 |    2.044 |       0.005 |
|          |                                                                    **cat** |                                                                  **merge** | **meta** | **row-count** | **schema** | **size** | **version** |
|   v1.8.0 |                                                                        498 |                                                                        N/A |    2.444 |         2.789 |      2.226 |    2.200 |       0.004 |
|   v1.7.2 |                                                                        500 |                                                                        N/A |    2.221 |         2.343 |      2.803 |    2.263 |       0.005 |
|   v1.7.1 |                                                                        503 |                                                                        N/A |    2.247 |         2.289 |      2.476 |    2.305 |       0.005 |
|   v1.7.0 |                                                                        601 |                                                                        N/A |    2.408 |         3.069 |      2.260 |    2.423 |       0.005 |
|   v1.6.0 |                                                                        582 |                                                                        N/A |    2.023 |         2.314 |      2.080 |    2.546 |       0.006 |
|   v1.5.1 |                                                                        593 |                                                                        N/A |    2.222 |         2.419 |      2.460 |    2.218 |       0.005 |
|   v1.5.0 |                                                                        603 |                                                                        N/A |    2.120 |         2.347 |      2.448 |    2.413 |       0.005 |
|   v1.4.3 |                                                                        593 |                                                                        N/A |    2.317 |         2.344 |      2.139 |    2.227 |       0.003 |
|   v1.4.2 |                                                                        605 |                                                                        N/A |    2.148 |         2.573 |      2.376 |    2.261 |       0.004 |
|   v1.4.1 |                                                                        606 |                                                                        N/A |    2.104 |         2.509 |      2.443 |    2.184 |       0.005 |
|          |                                                                    **cat** |                                                                  **merge** | **meta** | **row-count** | **schema** | **size** | **version** |
|   v1.4.0 |                                                                        607 |                                                                        N/A |    2.019 |         2.328 |      2.339 |    2.559 |       0.005 |
|   v1.3.0 |                                                                        608 |                                                                        N/A |    2.326 |         2.223 |      2.061 |    2.744 |       0.005 |
|   v1.2.1 |                                                                        603 |                                                                        N/A |    1.938 |         2.273 |      2.405 |    1.981 |       0.006 |
|   v1.2.0 |                                                                        602 |                                                                        N/A |    2.347 |         2.084 |      2.317 |    2.129 |       0.005 |
|   v1.1.0 |                                                                        604 |                                                                        N/A |    1.867 |         1.985 |      2.338 |    1.988 |       0.004 |
|   v1.0.3 |                                                                        599 |                                                                        N/A |    1.919 |         2.102 |      2.034 |    1.796 |       0.004 |
|   v1.0.2 |                                                                        597 |                                                                        N/A |    1.985 |         2.058 |      2.123 |    2.001 |       0.005 |
|   v1.0.1 |                                                                        597 |                                                                        N/A |    1.911 |         2.007 |      1.972 |    2.061 |       0.004 |
|   v1.0.0 |                                                                        595 |                                                                        N/A |    2.049 |         2.011 |      2.278 |    2.086 |       0.005 |
|          |                                                                    **cat** |                                                                  **merge** | **meta** | **row-count** | **schema** | **size** | **version** |
